.glowing-edge-card {
  --card-bg: linear-gradient(
    8deg,
    #292f3d 75%,
    color-mix(in hsl, #292f3d, white 2.5%) 75.5%
  );
  --glow-blend: plus-lighter;
  --glow-color: 40deg 80% 80%;

  position: relative;
  border-radius: inherit;
  isolation: isolate;
  transform: translate3d(0, 0, 0.01px);
  display: grid;
  box-shadow:
    rgba(0, 0, 0, 0.1) 0 1px 2px,
    rgba(0, 0, 0, 0.1) 0 2px 4px,
    rgba(0, 0, 0, 0.1) 0 4px 8px,
    rgba(0, 0, 0, 0.1) 0 8px 16px,
    rgba(0, 0, 0, 0.1) 0 16px 32px,
    rgba(0, 0, 0, 0.1) 0 32px 64px;

  &::before,
  &::after,
  & > .glow {
    content: "";
    position: absolute;
    inset: 0;
    border-radius: inherit;
    transition: opacity 0.25s ease-out;
    z-index: -1;
  }

  &:not(:hover):not(.animating) {
    &::before,
    &::after,
    & > .glow {
      opacity: 0;
      transition: opacity 0.75s ease-in-out;
    }
  }

  &::before {
    /* mesh gradient border */

    border: 1px solid transparent;

    background:
      linear-gradient(var(--card-bg) 0 100%) padding-box,
      linear-gradient(rgb(255 255 255 / 0%) 0% 100%) border-box,
      radial-gradient(at 80% 55%, #44fbf0 0px, transparent 50%) border-box,
      radial-gradient(at 69% 34%, #44fbf0 0px, transparent 50%) border-box,
      radial-gradient(at 8% 6%, #44fbf0 0px, transparent 50%) border-box,
      radial-gradient(at 41% 38%, #44fbf0 0px, transparent 50%) border-box,
      radial-gradient(at 86% 85%, #44fbf0 0px, transparent 50%) border-box,
      radial-gradient(at 82% 18%, #44fbf0 0px, transparent 50%) border-box,
      radial-gradient(at 51% 4%, #44fbf0 0px, transparent 50%) border-box,
      linear-gradient(#44fbf0 0 100%) border-box;

    /* opacity increases as pointer gets near edge */
    opacity: calc((var(--pointer-d) - 50) / (100 - 50));

    /* border is masked to a cone, originating from the center towards the pointer */
    mask-image: conic-gradient(
      from var(--pointer-°) at center,
      black 25%,
      transparent 40%,
      transparent 60%,
      black 75%
    );
  }

  &::after {
    /* mesh gradient background */

    border: 1px solid transparent;

    background:
      radial-gradient(at 80% 55%, #44fbf0 0px, transparent 50%) padding-box,
      radial-gradient(at 69% 34%, #44fbf0 0px, transparent 50%) padding-box,
      radial-gradient(at 8% 6%, #44fbf0 0px, transparent 50%) padding-box,
      radial-gradient(at 41% 38%, #44fbf0 0px, transparent 50%) padding-box,
      radial-gradient(at 86% 85%, #44fbf0 0px, transparent 50%) padding-box,
      radial-gradient(at 82% 18%, #44fbf0 0px, transparent 50%) padding-box,
      radial-gradient(at 51% 4%, #44fbf0 0px, transparent 50%) padding-box,
      linear-gradient(#44fbf0 0 100%) padding-box;

    /* 5 radial masks to create a squircle-cut-out, and then a cone-gradient
        originating from the center towards the pointer to highlight the edges */
    mask-image:
      linear-gradient(to bottom, black, black),
      radial-gradient(ellipse at 50% 50%, black 40%, transparent 65%),
      radial-gradient(ellipse at 66% 66%, black 5%, transparent 40%),
      radial-gradient(ellipse at 33% 33%, black 5%, transparent 40%),
      radial-gradient(ellipse at 66% 33%, black 5%, transparent 40%),
      radial-gradient(ellipse at 33% 66%, black 5%, transparent 40%),
      conic-gradient(
        from var(--pointer-°) at center,
        transparent 5%,
        black 15%,
        black 85%,
        transparent 95%
      );

    mask-composite: subtract, add, add, add, add, add;

    /* opacity increases as pointer gets near edge */
    opacity: calc((var(--pointer-d) - 50) / 50);
    mix-blend-mode: soft-light;
  }

  & > .glow {
    /* outer padding so the glow can overflow the element without being masked */
    inset: -40px;
    pointer-events: none;
    z-index: 1;

    /* glow is masked to a cone, originating from the center towards the pointer */
    mask-image: conic-gradient(
      from var(--pointer-°) at center,
      black 2.5%,
      transparent 10%,
      transparent 90%,
      black 97.5%
    );

    /* opacity increases as pointer gets near edge */
    opacity: calc((var(--pointer-d) - 30) / 70);
    mix-blend-mode: var(--glow-blend);

    &::before {
      content: "";
      position: absolute;
      inset: 40px;
      border-radius: inherit;
      box-shadow:
        inset 0 0 0 1px #44fbf0,
        inset 0 0 1px 0 rgba(68, 251, 240, 0.9),
        inset 0 0 3px 0 rgba(68, 251, 240, 0.75),
        inset 0 0 6px 0 rgba(68, 251, 240, 0.66),
        inset 0 0 15px 0 rgba(68, 251, 240, 0.5),
        inset 0 0 25px 2px rgba(68, 251, 240, 0.3),
        inset 0 0 50px 2px rgba(68, 251, 240, 0.1),
        0 0 1px 0 rgba(68, 251, 240, 0.9),
        0 0 3px 0 rgba(68, 251, 240, 0.75),
        0 0 6px 0 rgba(68, 251, 240, 0.66),
        0 0 15px 0 rgba(68, 251, 240, 0.5),
        0 0 25px 2px rgba(68, 251, 240, 0.3),
        0 0 50px 2px rgba(68, 251, 240, 0.1);
    }
  }

  &.red {
    &::before {
      background:
        linear-gradient(var(--card-bg) 0 100%) padding-box,
        linear-gradient(rgb(255 255 255 / 0%) 0% 100%) border-box,
        radial-gradient(at 80% 55%, #ff4c29 0px, transparent 50%) border-box,
        radial-gradient(at 69% 34%, #ff4c29 0px, transparent 50%) border-box,
        radial-gradient(at 8% 6%, #ff4c29 0px, transparent 50%) border-box,
        radial-gradient(at 41% 38%, #ff4c29 0px, transparent 50%) border-box,
        radial-gradient(at 86% 85%, #ff4c29 0px, transparent 50%) border-box,
        radial-gradient(at 82% 18%, #ff4c29 0px, transparent 50%) border-box,
        radial-gradient(at 51% 4%, #ff4c29 0px, transparent 50%) border-box,
        linear-gradient(#ff4c29 0 100%) border-box;
    }

    &::after {
      background:
        radial-gradient(at 80% 55%, #ff4c29 0px, transparent 50%) padding-box,
        radial-gradient(at 69% 34%, #ff4c29 0px, transparent 50%) padding-box,
        radial-gradient(at 8% 6%, #ff4c29 0px, transparent 50%) padding-box,
        radial-gradient(at 41% 38%, #ff4c29 0px, transparent 50%) padding-box,
        radial-gradient(at 86% 85%, #ff4c29 0px, transparent 50%) padding-box,
        radial-gradient(at 82% 18%, #ff4c29 0px, transparent 50%) padding-box,
        radial-gradient(at 51% 4%, #ff4c29 0px, transparent 50%) padding-box,
        linear-gradient(#ff4c29 0 100%) padding-box;
    }

    & > .glow {
      &::before {
        box-shadow:
          inset 0 0 0 1px #ff4c29,
          inset 0 0 1px 0 rgba(255, 76, 41, 0.9),
          inset 0 0 3px 0 rgba(255, 76, 41, 0.75),
          inset 0 0 6px 0 rgba(255, 76, 41, 0.66),
          inset 0 0 15px 0 rgba(255, 76, 41, 0.5),
          inset 0 0 25px 2px rgba(255, 76, 41, 0.3),
          inset 0 0 50px 2px rgba(255, 76, 41, 0.1),
          0 0 1px 0 rgba(255, 76, 41, 0.9),
          0 0 3px 0 rgba(255, 76, 41, 0.75),
          0 0 6px 0 rgba(255, 76, 41, 0.66),
          0 0 15px 0 rgba(255, 76, 41, 0.5),
          0 0 25px 2px rgba(255, 76, 41, 0.3),
          0 0 50px 2px rgba(255, 76, 41, 0.1);
      }
    }
  }
}
